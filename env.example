# ==============================================================================
# Cognitive Document Reader - Environment Configuration
# ==============================================================================
# Copy this file to `.env` and modify the values as needed.
# All settings have sensible defaults and are optional.

# ==============================================================================
# üß† LLM MODEL CONFIGURATION
# ==============================================================================

# Default LLM model (fallback when dual models not configured)
COGNITIVE_READER_MODEL=qwen3:8b

# Default temperature for LLM generation (0.0 = deterministic, 2.0 = very creative)
COGNITIVE_READER_TEMPERATURE=0.1

# ==============================================================================
# üîÑ DUAL-PASS COGNITIVE READING STRATEGY
# ==============================================================================

# Enable fast first pass (uses fast model for initial scan) - SPECS v2.0 default
COGNITIVE_READER_ENABLE_FAST_FIRST_PASS=true

# Fast model for initial document scan (optimized for speed)
COGNITIVE_READER_FAST_PASS_MODEL=llama3.1:8b

# Quality model for detailed cognitive processing (optimized for quality)
COGNITIVE_READER_MAIN_MODEL=qwen3:8b

# Temperature for fast scan (very conservative for maximum fidelity)
COGNITIVE_READER_FAST_PASS_TEMPERATURE=0.05

# Temperature for quality processing (very conservative for maximum fidelity)
COGNITIVE_READER_MAIN_PASS_TEMPERATURE=0.05

# Number of cognitive passes (1=single-pass, 2=dual-pass, 3+=multi-pass) 
COGNITIVE_READER_NUM_PASSES=2

# ==============================================================================
# üß† COGNITIVE FEATURES
# ==============================================================================

# Enable refinement during reading (improves summaries as context grows)
COGNITIVE_READER_ENABLE_REFINEMENT=true

# Threshold for triggering refinement (0.0=never, 1.0=always)
COGNITIVE_READER_REFINEMENT_THRESHOLD=0.4

# ==============================================================================
# üîß MULTI-PASS CONFIGURATION (Future Feature)
# ==============================================================================

# Maximum number of cognitive passes (extensible design for N-pass reading)
COGNITIVE_READER_MAX_PASSES=2

# Threshold to detect when additional passes add minimal value
COGNITIVE_READER_CONVERGENCE_THRESHOLD=0.1

# ==============================================================================
# üìÑ DOCUMENT PROCESSING
# ==============================================================================

# Text chunk size for processing (characters)
COGNITIVE_READER_CHUNK_SIZE=1000

# Overlap between chunks (characters)
COGNITIVE_READER_CHUNK_OVERLAP=200

# LLM context window limit (tokens) - increased for enriched context support
COGNITIVE_READER_CONTEXT_WINDOW=16384

# Document language (auto, en, es)
COGNITIVE_READER_LANGUAGE=auto

# ==============================================================================
# üìä SUMMARY OPTIMIZATION (RAG/Fine-tuning)
# ==============================================================================

# Target summary length in characters (optimal for embeddings)
COGNITIVE_READER_TARGET_SUMMARY_LENGTH=800

# Minimum summary length in characters
COGNITIVE_READER_MIN_SUMMARY_LENGTH=400

# Maximum summary length in characters
COGNITIVE_READER_MAX_SUMMARY_LENGTH=1200

# Maximum section depth level to analyze (10 = no filtering, lower values for development)
COGNITIVE_READER_MAX_HIERARCHY_DEPTH=10

# ==============================================================================
# ‚ö° PERFORMANCE SETTINGS
# ==============================================================================

# Request timeout in seconds
COGNITIVE_READER_TIMEOUT_SECONDS=120

# Maximum retry attempts for failed LLM calls
COGNITIVE_READER_MAX_RETRIES=3

# LLM Provider (currently only "ollama" supported, extensible for future)
COGNITIVE_READER_LLM_PROVIDER=ollama

# Ollama server base URL (no hardcoded localhost!)
COGNITIVE_READER_OLLAMA_BASE_URL=http://localhost:11434

# ==============================================================================
# üîß DEVELOPMENT & TESTING
# ==============================================================================

# Enable dry-run mode (no actual LLM calls, uses mock responses)
COGNITIVE_READER_DRY_RUN=false

# Use mock responses for testing (deterministic output)
COGNITIVE_READER_MOCK_RESPONSES=false

# Only validate configuration without processing documents
COGNITIVE_READER_VALIDATE_CONFIG_ONLY=false

# Save partial results during processing (useful for debugging/development)
COGNITIVE_READER_SAVE_PARTIAL_RESULTS=false

# Directory to save partial results
COGNITIVE_READER_PARTIAL_RESULTS_DIR=./partial_results

# Maximum number of sections to process (useful for development with large docs)
# COGNITIVE_READER_MAX_SECTIONS=5

# Disable reasoning mode for reasoning models (faster processing, direct answers)
COGNITIVE_READER_DISABLE_REASONING=false

# ==============================================================================
# üîÑ MULTI-PASS PROCESSING CONTROL
# ==============================================================================

# Force single-pass processing (disable additional passes for fast testing)
COGNITIVE_READER_SINGLE_PASS=false

# Save intermediate state between passes (useful for debugging and comparison)
COGNITIVE_READER_SAVE_INTERMEDIATE=false

# Directory to save intermediate pass results
COGNITIVE_READER_INTERMEDIATE_DIR=./intermediate_passes

# Skip concept definitions generation (faster processing, summaries only)
COGNITIVE_READER_SKIP_GLOSSARY=false

# Show context window usage for each LLM call (debugging and optimization)
COGNITIVE_READER_SHOW_CONTEXT_USAGE=false

# ==============================================================================
# üéØ CONCEPT FILTERING PARAMETERS
# ==============================================================================

# Maximum number of concepts to include in glossary (prevents overly long glossaries)
COGNITIVE_READER_MAX_GLOSSARY_CONCEPTS=50

# Minimum number of concepts to include in glossary (ensures adequate coverage for small docs)
COGNITIVE_READER_MIN_GLOSSARY_CONCEPTS=10

# Maximum score for cross-section relevance (0.0-1.0, higher = more emphasis on concepts in multiple sections)
COGNITIVE_READER_CROSS_SECTION_SCORE_CAP=0.5

# Multiplier for word count in complexity scoring (higher = prefer multi-word concepts)
COGNITIVE_READER_COMPLEXITY_SCORE_MULTIPLIER=0.2

# Maximum score for concept complexity (0.0-1.0, caps the complexity bonus)
COGNITIVE_READER_COMPLEXITY_SCORE_CAP=0.3

# Base score for LLM-selected concepts (0.0-1.0, ensures all LLM-selected concepts get minimum score)
COGNITIVE_READER_BASE_CONCEPT_SCORE=0.2

# ==============================================================================
# üìù USAGE EXAMPLES
# ==============================================================================

# Example 1: Fast processing for quick testing
# COGNITIVE_READER_NUM_PASSES=1
# COGNITIVE_READER_FAST_PASS_MODEL=llama3.1:8b

# Example 2: Ultra-quality processing (slower but better results)
# COGNITIVE_READER_FAST_PASS_MODEL=qwen3:8b
# COGNITIVE_READER_MAIN_MODEL=qwen3:32b
# COGNITIVE_READER_MAIN_PASS_TEMPERATURE=0.1

# Example 3: Development mode with mock responses
# COGNITIVE_READER_DRY_RUN=true
# COGNITIVE_READER_MOCK_RESPONSES=true

# Example 4: Large document processing
# COGNITIVE_READER_CONTEXT_WINDOW=32768
# COGNITIVE_READER_TARGET_SUMMARY_LENGTH=1200
# COGNITIVE_READER_MAX_HIERARCHY_DEPTH=5

# Example 5: Spanish document processing
# COGNITIVE_READER_LANGUAGE=es

# ==============================================================================
# üìö DOCUMENTATION
# ==============================================================================
# For complete documentation, see:
# - SPECS_v2.md - Technical specifications
# - MOTIVATION.md - Project motivation and cognitive reading approach
# - README.md - Usage examples and getting started guide
